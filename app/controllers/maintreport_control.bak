def update_next_date_hour
   @maintenance = Maintenance.find(params[:maintreport][:maintenance_id])
   unless @maintenance.last_date.nil?
     @freq = @maintenance.frequency
     @frequnit =  @maintenance.frequency_unit
     case @frequnit
        when 1
          @nextdate = @maintenance.last_date + @freq.day
        when 7
          @nextdate = @maintenance.last_date + @freq.week
        when 30
           @nextdate = @maintenance.last_date + @freq.month   
        when 365
          @nextdate = @maintenance.last_date + @freq.year
     end
   end
 end
 helper_method :get_nextdate

 @maintenance.update_attribute(:next_date, get_nextdate)